<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KitchenVibe Ghost Kitchen</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #fff;
        }
        canvas {
            display: block;
            width: 100vw !important;
            height: 100vh !important;
        }
        #ui-menu {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 5px;
            color: #fff;
            font-family: Arial, sans-serif;
            z-index: 10;
        }
        #ui-menu button {
            display: block;
            margin: 5px 0;
            padding: 8px;
            background: #333;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        #ui-menu button:hover {
            background: #555;
        }
        #shipping-form, #about-info {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            font-family: Arial, sans-serif;
            max-width: 400px;
            z-index: 10;
        }
        #shipping-form input {
            display: block;
            margin: 10px 0;
            padding: 5px;
            width: 200px;
        }
        #shipping-form button, #about-info button {
            padding: 8px;
            background: #333;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        #shipping-form button:hover, #about-info button:hover {
            background: #555;
        }
        @media (max-width: 768px) {
            canvas {
                width: 100vw !important;
                height: 100vh !important;
            }
            #ui-menu {
                top: 5px;
                left: 5px;
                font-size: 12px;
            }
            #ui-menu button {
                padding: 6px;
            }
            #shipping-form, #about-info {
                width: 90%;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div id="ui-menu">
        <button onclick="switchView('home')">Home</button>
        <button onclick="switchView('about')">About</button>
        <button onclick="switchView('shop')">Shop</button>
        <button onclick="switchView('checkout')">Checkout</button>
    </div>
    <div id="shipping-form">
        <h2>Shipping Information</h2>
        <input type="text" placeholder="Name" />
        <input type="text" placeholder="Address" />
        <input type="text" placeholder="City" />
        <input type="text" placeholder="Zip Code" />
        <button onclick="alert('Order Submitted!')">Submit Order</button>
    </div>
    <div id="about-info">
        <h2>About KitchenVibe Ghost Kitchen</h2>
        <p>We are a premier ghost kitchen specializing in delicious, made-to-order meals delivered straight to your door. Our state-of-the-art kitchen ensures efficiency and quality, using the freshest ingredients to create culinary delights. Contact us at info@kitchenvibe.com.</p>
        <button onclick="document.getElementById('about-info').style.display = 'none'">Close</button>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.134.0/examples/js/controls/OrbitControls.js"></script>
    <script>
        // Scene Setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMap.enabled = true;
        document.body.appendChild(renderer.domElement);

        // Orbit Controls
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;

        // Lighting
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);
        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight.position.set(5, 5, 5);
        directionalLight.castShadow = true;
        scene.add(directionalLight);

        // Environment Map (Assuming a simple cube map for reflections)
        const envMap = new THREE.CubeTextureLoader().load([
            'px.jpg', 'nx.jpg', 'py.jpg', 'ny.jpg', 'pz.jpg', 'nz.jpg' // Placeholder; replace with actual env map if available
        ]);

        // Wood Material for Table and Countertop
        const woodMaterial = new THREE.MeshStandardMaterial({
            color: 0x8B4513, // Oak-like color
            roughness: 0.6,
            metalness: 0.1,
            envMap: envMap,
            envMapIntensity: 0.3
        });

        // Metal Material for Sink and Fridge Handle
        const metalMaterial = new THREE.MeshStandardMaterial({
            color: 0xcccccc,
            roughness: 0.2,
            metalness: 0.7,
            envMap: envMap,
            envMapIntensity: 0.5
        });

        // Table
        const tableGeometry = new THREE.BoxGeometry(2, 0.1, 1);
        const table = new THREE.Mesh(tableGeometry, woodMaterial);
        table.position.set(0, 0.8, -2);
        table.castShadow = true;
        table.receiveShadow = true;
        scene.add(table);

        // Countertop (Now matches table's wood material)
        const countertopGeometry = new THREE.BoxGeometry(3, 0.05, 1);
        const countertop = new THREE.Mesh(countertopGeometry, woodMaterial); // Updated to wood
        countertop.position.set(2, 1.0, -4);
        countertop.castShadow = true;
        countertop.receiveShadow = true;
        scene.add(countertop);

        // Metal Sink
        const sinkGeometry = new THREE.BoxGeometry(0.6, 0.1, 0.4); // Simple box for sink basin
        const sink = new THREE.Mesh(sinkGeometry, metalMaterial);
        sink.position.set(2, 0.95, -4); // Embedded in countertop
        sink.castShadow = true;
        scene.add(sink);

        // Fridge
        const fridgeGeometry = new THREE.BoxGeometry(1, 2, 0.8);
        const fridgeMaterial = new THREE.MeshStandardMaterial({
            color: 0xffffff,
            roughness: 0.4,
            metalness: 0.3,
            envMap: envMap,
            envMapIntensity: 0.4
        });
        const fridge = new THREE.Mesh(fridgeGeometry, fridgeMaterial);
        fridge.position.set(-2, 1, -4);
        fridge.castShadow = true;
        scene.add(fridge);

        // Fridge Handle (Vertical Long Handle)
        const handleGeometry = new THREE.CylinderGeometry(0.02, 0.02, 1.5, 16); // Long, thin cylinder
        const handle = new THREE.Mesh(handleGeometry, metalMaterial);
        handle.position.set(-1.45, 1, -3.6); // Right side of fridge door
        handle.rotation.z = Math.PI / 2; // Vertical orientation
        handle.castShadow = true;
        scene.add(handle);

        // Laptop Setup (From Original Code)
        const laptopMaterial = new THREE.MeshStandardMaterial({
            color: 0x333333,
            roughness: 0.3,
            metalness: 0.5,
            envMap: envMap,
            envMapIntensity: 0.5
        });
        const laptopBaseGeometry = new THREE.BoxGeometry(0.45, 0.03, 0.3, 16, 16, 16);
        const laptopBase = new THREE.Mesh(laptopBaseGeometry, laptopMaterial);
        laptopBase.position.set(4, 0.85, 0);
        laptopBase.castShadow = true;
        scene.add(laptopBase);

        const laptopScreenGeometry = new THREE.BoxGeometry(0.45, 0.3, 0.015, 16, 16, 16);
        const laptopScreen = new THREE.Mesh(laptopScreenGeometry, laptopMaterial);
        laptopScreen.position.set(4, 1.0, 0);
        laptopScreen.rotation.x = -Math.PI / 6;
        laptopScreen.castShadow = true;
        scene.add(laptopScreen);

        const keyboardGeometry = new THREE.BoxGeometry(0.4, 0.01, 0.25);
        const keyboardMaterial = new THREE.MeshStandardMaterial({
            color: 0x222222,
            roughness: 0.3,
            metalness: 0.5
        });
        const keyboard = new THREE.Mesh(keyboardGeometry, keyboardMaterial);
        keyboard.position.set(4, 0.87, 0);
        scene.add(keyboard);

        const cardReaderGeometry = new THREE.BoxGeometry(0.12, 0.08, 0.08, 16, 16, 16);
        const cardReader = new THREE.Mesh(cardReaderGeometry, laptopMaterial);
        cardReader.position.set(4.35, 0.84, 0.2);
        scene.add(cardReader);

        // Camera Presets
        const cameraPositions = {
            home: { pos: [5, 2.5, -3], target: [0, 1, -1], overlay: null },
            about: { pos: [-3, 2.5, 2], target: [-4.9, 3, 0], overlay: 'about-info' },
            shop: { pos: [-2, 1.5, -3], target: [0, 0.9, -4.5], overlay: null },
            checkout: { pos: [5, 1.5, -1], target: [4, 0.8, 0], overlay: 'shipping-form' }
        };

        // View Switch Function
        function switchView(view) {
            const { pos, target, overlay } = cameraPositions[view];
            camera.position.set(...pos);
            controls.target.set(...target);
            controls.update();
            document.getElementById('shipping-form').style.display = overlay === 'shipping-form' ? 'block' : 'none';
            document.getElementById('about-info').style.display = overlay === 'about-info' ? 'block' : 'none';
        }

        // Initial View
        switchView('home');

        // Animation Loop
        let time = 0;
        function animate() {
            requestAnimationFrame(animate);
            time += 0.01;
            controls.update();
            renderer.render(scene, camera);
        }
        animate();

        // Handle Window Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>

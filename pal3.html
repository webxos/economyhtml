<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gray Studio Clothing Shop</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #000;
        }
        canvas {
            display: block;
            width: 100vw !important;
            height: 100vh !important;
        }
        #shop-menu {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 300px;
            background: rgba(0, 0, 0, 0.9);
            color: #D3D3D3;
            padding: 20px;
            border: 2px solid #808080;
            display: none;
            font-family: Arial, sans-serif;
            z-index: 1000;
        }
        #shop-menu img {
            width: 100%;
            height: auto;
            border: 1px solid #808080;
        }
        #shop-menu h2 {
            margin: 10px 0;
            font-size: 24px;
        }
        #shop-menu p {
            margin: 5px 0;
        }
        #shop-menu button {
            background: #808080;
            color: #fff;
            border: none;
            padding: 10px;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
        }
        #shop-menu button:hover {
            background: #666;
        }
        @media (max-width: 768px) {
            canvas {
                width: 100vw !important;
                height: 100vh !important;
            }
            #shop-menu {
                width: 80%;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="shop-menu">
        <h2 id="item-name"></h2>
        <img id="item-image" src="" alt="Item Image">
        <p id="item-description"></p>
        <p id="item-price"></p>
        <button id="buy-now">Buy Now</button>
        <button onclick="document.getElementById('shop-menu').style.display='none'">Close</button>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.134.0/examples/js/controls/OrbitControls.js"></script>
    <script>
        // Scene setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.shadowMap.enabled = true;
        document.body.appendChild(renderer.domElement);

        // OrbitControls
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        controls.screenSpacePanning = false;
        controls.minDistance = 2;
        controls.maxDistance = 10;
        controls.maxPolarAngle = Math.PI / 2;
        controls.target.set(0, 1, 0);

        // Lighting
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
        scene.add(ambientLight);
        const directionalLight1 = new THREE.DirectionalLight(0xffffff, 0.5);
        directionalLight1.position.set(5, 5, 5);
        directionalLight1.castShadow = true;
        scene.add(directionalLight1);
        const directionalLight2 = new THREE.DirectionalLight(0xffffff, 0.3);
        directionalLight2.position.set(-5, 5, -5);
        scene.add(directionalLight2);

        // Room (walls, floor, ceiling)
        const wallMaterial = new THREE.MeshStandardMaterial({ color: 0xD3D3D3, roughness: 0.8 });
        const floorMaterial = new THREE.MeshStandardMaterial({ color: 0x808080, roughness: 0.7 });
        const ceilingMaterial = new THREE.MeshStandardMaterial({ color: 0xFFFFFF, roughness: 0.8 });

        const floorGeometry = new THREE.PlaneGeometry(10, 10);
        const floor = new THREE.Mesh(floorGeometry, floorMaterial);
        floor.rotation.x = -Math.PI / 2;
        floor.receiveShadow = true;
        scene.add(floor);

        const ceiling = new THREE.Mesh(floorGeometry, ceilingMaterial);
        ceiling.rotation.x = Math.PI / 2;
        ceiling.position.y = 5;
        scene.add(ceiling);

        const wall1 = new THREE.Mesh(new THREE.PlaneGeometry(10, 5), wallMaterial);
        wall1.position.set(0, 2.5, -5);
        scene.add(wall1);
        const wall2 = new THREE.Mesh(new THREE.PlaneGeometry(10, 5), wallMaterial);
        wall2.position.set(-5, 2.5, 0);
        wall2.rotation.y = Math.PI / 2;
        scene.add(wall2);
        const wall3 = new THREE.Mesh(new THREE.PlaneGeometry(10, 5), wallMaterial);
        wall3.position.set(5, 2.5, 0);
        wall3.rotation.y = -Math.PI / 2;
        scene.add(wall3);
        const wall4 = new THREE.Mesh(new THREE.PlaneGeometry(10, 5), wallMaterial);
        wall4.position.set(0, 2.5, 5);
        wall4.rotation.y = Math.PI;
        scene.add(wall4);

        // Checkout Register
        const counterMaterial = new THREE.MeshStandardMaterial({ color: 0x333333, roughness: 0.5 });
        const counterGeometry = new THREE.BoxGeometry(2, 1, 1);
        const counter = new THREE.Mesh(counterGeometry, counterMaterial);
        counter.position.set(0, 0.5, -4);
        counter.castShadow = true;
        scene.add(counter);

        const registerGeometry = new THREE.BoxGeometry(0.4, 0.3, 0.3);
        const register = new THREE.Mesh(registerGeometry, counterMaterial);
        register.position.set(0, 1.15, -4);
        register.castShadow = true;
        scene.add(register);

        // Clothing items data
        const clothingItems = [
            { name: "Red T-Shirt", color: 0xFF0000, position: [-2, 2, -4.8], type: "folded", description: "Bright red cotton t-shirt, perfect for casual wear.", price: "$20", image: "https://via.placeholder.com/300?text=Red+T-Shirt" },
            { name: "Blue Jeans", color: 0x0000FF, position: [-1, 2, 4.8], type: "hanging", description: "Classic blue denim jeans, slim fit.", price: "$50", image: "https://via.placeholder.com/300?text=Blue+Jeans" },
            { name: "Pink Dress", color: 0xFF69B4, position: [1, 2, 4.8], type: "hanging", description: "Light pink A-line sundress, ideal for summer.", price: "$45", image: "https://via.placeholder.com/300?text=Pink+Dress" },
            { name: "Black Hoodie", color: 0x000000, position: [-1.5, 2.5, -4.8], type: "folded", description: "Black hoodie with white logo, cozy and stylish.", price: "$35", image: "https://via.placeholder.com/300?text=Black+Hoodie" },
            { name: "Green Jacket", color: 0x008000, position: [0, 2, 4.8], type: "hanging", description: "Forest green bomber jacket, warm and trendy.", price: "$60", image: "https://via.placeholder.com/300?text=Green+Jacket" },
            { name: "Yellow Beanie", color: 0xFFFF00, position: [-2, 0.5, 2], type: "boxed", description: "Bright yellow knit beanie, keeps you warm.", price: "$15", image: "https://via.placeholder.com/300?text=Yellow+Beanie" },
            { name: "White Sneakers", color: 0xFFFFFF, position: [2, 0.5, 2], type: "boxed", description: "White canvas sneakers with black laces.", price: "$55", image: "https://via.placeholder.com/300?text=White+Sneakers" },
            { name: "Purple Scarf", color: 0x800080, position: [2, 2, 4.8], type: "hanging", description: "Soft purple scarf, perfect for any season.", price: "$25", image: "https://via.placeholder.com/300?text=Purple+Scarf" },
            { name: "Brown Belt", color: 0x8B4513, position: [-1, 0.5, 2], type: "boxed", description: "Brown leather belt with silver buckle.", price: "$30", image: "https://via.placeholder.com/300?text=Brown+Belt" },
            { name: "Orange Socks", color: 0xFFA500, position: [1, 0.5, 2], type: "boxed", description: "Orange cotton socks with white stripe.", price: "$10", image: "https://via.placeholder.com/300?text=Orange+Socks" },
            { name: "Gray Sweatshirt", color: 0x808080, position: [2, 2, -4.8], type: "folded", description: "Medium gray crewneck sweatshirt, comfy fit.", price: "$40", image: "https://via.placeholder.com/300?text=Gray+Sweatshirt" },
            { name: "Navy Cap", color: 0x000080, position: [0, 0.5, 2], type: "boxed", description: "Navy blue baseball cap with white logo.", price: "$20", image: "https://via.placeholder.com/300?text=Navy+Cap" }
        ];

        // Clothing meshes
        const clothingMeshes = [];
        clothingItems.forEach(item => {
            let geometry, material;
            if (item.type === "folded") {
                geometry = new THREE.BoxGeometry(0.4, 0.1, 0.3);
                material = new THREE.MeshStandardMaterial({ color: item.color, roughness: 0.7 });
                const mesh = new THREE.Mesh(geometry, material);
                mesh.position.set(...item.position);
                mesh.castShadow = true;
                mesh.userData = item;
                scene.add(mesh);
                clothingMeshes.push(mesh);
            } else if (item.type === "hanging") {
                geometry = new THREE.PlaneGeometry(0.4, 0.6);
                material = new THREE.MeshStandardMaterial({ color: item.color, roughness: 0.7, side: THREE.DoubleSide });
                const mesh = new THREE.Mesh(geometry, material);
                mesh.position.set(...item.position);
                mesh.rotation.y = Math.PI / 4;
                mesh.castShadow = true;
                mesh.userData = item;
                scene.add(mesh);
                clothingMeshes.push(mesh);
            } else if (item.type === "boxed") {
                // Box
                const boxGeometry = new THREE.BoxGeometry(0.5, 0.2, 0.5);
                const boxMaterial = new THREE.MeshStandardMaterial({ color: 0x8B4513, roughness: 0.8 });
                const box = new THREE.Mesh(boxGeometry, boxMaterial);
                box.position.set(item.position[0], item.position[1] - 0.1, item.position[2]);
                box.castShadow = true;
                scene.add(box);
                // Item in box
                geometry = new THREE.BoxGeometry(0.3, 0.1, 0.3);
                material = new THREE.MeshStandardMaterial({ color: item.color, roughness: 0.7 });
                const mesh = new THREE.Mesh(geometry, material);
                mesh.position.set(...item.position);
                mesh.castShadow = true;
                mesh.userData = item;
                scene.add(mesh);
                clothingMeshes.push(mesh);
            }
        });

        // Shelves for folded items
        const shelfMaterial = new THREE.MeshStandardMaterial({ color: 0x333333, roughness: 0.5 });
        const shelfGeometry = new THREE.BoxGeometry(3, 0.1, 0.5);
        const shelf1 = new THREE.Mesh(shelfGeometry, shelfMaterial);
        shelf1.position.set(0, 2, -4.8);
        shelf1.castShadow = true;
        scene.add(shelf1);
        const shelf2 = new THREE.Mesh(shelfGeometry, shelfMaterial);
        shelf2.position.set(0, 2.5, -4.8);
        shelf2.castShadow = true;
        scene.add(shelf2);

        // Racks for hanging items
        const rackGeometry = new THREE.BoxGeometry(2, 0.05, 0.05);
        const rack1 = new THREE.Mesh(rackGeometry, shelfMaterial);
        rack1.position.set(0, 2, 4.8);
        rack1.castShadow = true;
        scene.add(rack1);
        const rackSupportGeometry = new THREE.BoxGeometry(0.05, 1.5, 0.05);
        const rackSupport1 = new THREE.Mesh(rackSupportGeometry, shelfMaterial);
        rackSupport1.position.set(-1, 1.25, 4.8);
        scene.add(rackSupport1);
        const rackSupport2 = new THREE.Mesh(rackSupportGeometry, shelfMaterial);
        rackSupport2.position.set(1, 1.25, 4.8);
        scene.add(rackSupport2);

        // Raycaster for interactivity
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();
        function onMouseClick(event) {
            event.preventDefault();
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(clothingMeshes);
            if (intersects.length > 0) {
                const item = intersects[0].object.userData;
                document.getElementById('item-name').textContent = item.name;
                document.getElementById('item-image').src = item.image;
                document.getElementById('item-description').textContent = item.description;
                document.getElementById('item-price').textContent = item.price;
                document.getElementById('shop-menu').style.display = 'block';
                document.getElementById('buy-now').onclick = () => window.location.href = '#'; // Placeholder link
            }
        }
        window.addEventListener('click', onMouseClick);

        // Camera position
        camera.position.set(4, 2, 4);
        camera.lookAt(0, 1, 0);

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }
        animate();

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>

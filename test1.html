<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Hero Office Template</title>
    <style>
        body { margin: 0; overflow: hidden; font-family: Arial, sans-serif; }
        canvas { display: block; width: 100%; height: 100vh; }
        #overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            color: #fff;
            text-align: center;
            background: rgba(0, 0, 0, 0.2);
        }
        #hero-text {
            margin-top: 20vh;
            pointer-events: auto;
        }
        #hero-text h1 { font-size: 3rem; margin: 0; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); }
        #hero-text p { font-size: 1.2rem; margin: 10px 0; }
        #hero-text a {
            display: inline-block;
            padding: 10px 20px;
            background: #007bff;
            color: #fff;
            text-decoration: none;
            border-radius: 5px;
            pointer-events: auto;
            transition: background 0.3s;
        }
        #hero-text a:hover { background: #0056b3; }
        #view-buttons {
            position: absolute;
            top: 10px;
            left: 10px;
            pointer-events: auto;
        }
        #view-buttons button {
            display: block;
            margin: 5px;
            padding: 10px;
            background: #333;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            pointer-events: auto;
            transition: background 0.3s;
        }
        #view-buttons button:hover { background: #555; }
        @media (max-width: 768px) {
            #hero-text h1 { font-size: 2rem; }
            #hero-text p { font-size: 1rem; }
            #hero-text a { padding: 8px 16px; }
        }
    </style>
</head>
<body>
    <div id="overlay">
        <div id="hero-text">
            <h1>Your Company Name</h1>
            <p>Explore our innovative solutions in a stunning 3D environment.</p>
            <a href="#shop-now">Shop Now</a>
        </div>
        <div id="view-buttons">
            <button onclick="changeView('desk')">Desk View</button>
            <button onclick="changeView('chair')">Chair View</button>
            <button onclick="changeView('overview')">Room Overview</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/OBJLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/MTLLoader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/18.6.4/tween.min.js"></script>

    <script>
        // === 3D Hero Template for Web Designers ===
        // Instructions:
        // 1. Place models (.obj/.mtl) in /models and textures (.jpg/.png) in /textures.
        // 2. Update loadModel() paths or comment out if missing assets.
        // 3. Run via local server (e.g., `python -m http.server 8000`) to avoid CORS issues.
        // 4. Customize #hero-text, colors, and camera views as needed.
        // 5. Source models from BlenderKit, TurboSquid, or CGTrader.

        // Scene Setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Check WebGL Support
        if (!renderer.capabilities.isWebGL2 && !renderer.capabilities.isWebGL) {
            console.error("WebGL not supported in this browser.");
            alert("Your browser does not support WebGL. Please use a modern browser.");
        }

        // Orbit Controls
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        controls.minDistance = 2;
        controls.maxDistance = 20;

        // Lighting
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
        scene.add(ambientLight);
        const officeLight = new THREE.PointLight(0xffffff, 1, 100);
        officeLight.position.set(0, 5, 0);
        scene.add(officeLight);
        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight.position.set(5, 5, 5);
        scene.add(directionalLight);

        // Procedural Room (Fallback)
        const floorGeo = new THREE.PlaneGeometry(20, 20);
        const floorMat = new THREE.MeshStandardMaterial({ color: 0xcccccc });
        const floor = new THREE.Mesh(floorGeo, floorMat);
        floor.rotation.x = -Math.PI / 2;
        scene.add(floor);

        const wallGeo = new THREE.PlaneGeometry(20, 10);
        const wallMat = new THREE.MeshStandardMaterial({ color: 0xaaaaaa });
        const backWall = new THREE.Mesh(wallGeo, wallMat);
        backWall.position.set(0, 5, -10);
        scene.add(backWall);
        const sideWall = new THREE.Mesh(wallGeo, wallMat);
        sideWall.position.set(-10, 5, 0);
        sideWall.rotation.y = Math.PI / 2;
        scene.add(sideWall);

        // Fallback Cube (Debug)
        const cubeGeo = new THREE.BoxGeometry(1, 1, 1);
        const cubeMat = new THREE.MeshStandardMaterial({ color: 0xff0000 });
        const cube = new THREE.Mesh(cubeGeo, cubeMat);
        cube.position.set(0, 0.5, 0);
        scene.add(cube);

        // Load 3D Models
        const mtlLoader = new THREE.MTLLoader();
        const objLoader = new THREE.OBJLoader();

        function loadModel(mtlPath, objPath, position, scale, rotation) {
            mtlLoader.load(mtlPath, (materials) => {
                materials.preload();
                objLoader.setMaterials(materials).load(
                    objPath,
                    (object) => {
                        object.position.copy(position);
                        object.scale.set(scale, scale, scale);
                        object.rotation.set(rotation.x, rotation.y, rotation.z);
                        scene.add(object);
                        console.log(`Loaded: ${objPath}`);
                    },
                    (xhr) => console.log(`Loading ${objPath}: ${(xhr.loaded / xhr.total * 100)}%`),
                    (error) => console.error(`Error loading ${objPath}:`, error)
                );
            }, undefined, (error) => console.error(`Error loading ${mtlPath}:`, error));
        }

        // Load Models (Comment out if assets are missing)
        loadModel('models/desk.mtl', 'models/desk.obj', new THREE.Vector3(0, 0, 0), 1, { x: 0, y: 0, z: 0 });
        loadModel('models/chair.mtl', 'models/chair.obj', new THREE.Vector3(2, 0, 0), 1, { x: 0, y: Math.PI / 2, z: 0 });
        loadModel('models/monitor.mtl', 'models/monitor.obj', new THREE.Vector3(0, 1, -1), 1, { x: 0, y: 0, z: 0 });
        loadModel('models/monitor.mtl', 'models/monitor.obj', new THREE.Vector3(1, 1, -1), 1, { x: 0, y: 0, z: 0 });
        loadModel('models/monitor.mtl', 'models/monitor.obj', new THREE.Vector3(-1, 1, -1), 1, { x: 0, y: 0, z: 0 });

        // Camera Views
        function changeView(view) {
            let targetPos, targetLookAt;
            switch (view) {
                case 'desk':
                    targetPos = new THREE.Vector3(0, 2, 3);
                    targetLookAt = new THREE.Vector3(0, 1, 0);
                    break;
                case 'chair':
                    targetPos = new THREE.Vector3(3, 1, 2);
                    targetLookAt = new THREE.Vector3(2, 0, 0);
                    break;
                case 'overview':
                    targetPos = new THREE.Vector3(5, 5, 5);
                    targetLookAt = new THREE.Vector3(0, 0, 0);
                    break;
            }
            new TWEEN.Tween(camera.position)
                .to(targetPos, 1000)
                .easing(TWEEN.Easing.Quadratic.InOut)
                .start();
            new TWEEN.Tween(controls.target)
                .to(targetLookAt, 1000)
                .easing(TWEEN.Easing.Quadratic.InOut)
                .start();
        }

        // Initial Camera Position
        camera.position.set(5, 5, 5);
        controls.target.set(0, 0, 0);

        // Handle Window Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Animation Loop
        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            TWEEN.update();
            renderer.render(scene, camera);
        }
        animate();
    </script>
</body>
</html>

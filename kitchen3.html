<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KitchenVibe Ghost Kitchen</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #fff;
        }
        canvas {
            display: block;
            width: 100vw !important;
            height: 100vh !important;
        }
        #ui-menu {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 5px;
            color: #fff;
            font-family: Arial, sans-serif;
        }
        #ui-menu button {
            display: block;
            margin: 5px 0;
            padding: 8px;
            background: #333;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        #ui-menu button:hover {
            background: #555;
        }
        #shipping-form, #about-info {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            font-family: Arial, sans-serif;
            max-width: 400px;
        }
        #shipping-form input {
            display: block;
            margin: 10px 0;
            padding: 5px;
            width: 200px;
        }
        #shipping-form button, #about-info button {
            padding: 8px;
            background: #333;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        #shipping-form button:hover, #about-info button:hover {
            background: #555;
        }
        @media (max-width: 768px) {
            canvas {
                width: 100vw !important;
                height: 100vh !important;
            }
            #ui-menu {
                top: 5px;
                left: 5px;
                font-size: 12px;
            }
            #ui-menu button {
                padding: 6px;
            }
            #shipping-form, #about-info {
                width: 90%;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div id="ui-menu">
        <button onclick="switchView('home')">Home</button>
        <button onclick="switchView('about')">About</button>
        <button onclick="switchView('shop')">Shop</button>
        <button onclick="switchView('checkout')">Checkout</button>
    </div>
    <div id="shipping-form">
        <h2>Shipping Information</h2>
        <input type="text" placeholder="Name" />
        <input type="text" placeholder="Address" />
        <input type="text" placeholder="City" />
        <input type="text" placeholder="Zip Code" />
        <button onclick="alert('Order Submitted!')">Submit Order</button>
    </div>
    <div id="about-info">
        <h2>About KitchenVibe Ghost Kitchen</h2>
        <p>We are a premier ghost kitchen specializing in delicious, made-to-order meals delivered straight to your door. Our state-of-the-art kitchen ensures efficiency and quality, using the freshest ingredients to create culinary delights. Contact us at info@kitchenvibe.com.</p>
        <button onclick="document.getElementById('about-info').style.display = 'none'">Close</button>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.134.0/examples/js/controls/OrbitControls.js"></script>
    <script>
        // Template Data
        const templateData = {
            name: "KitchenVibe Ghost Kitchen Template",
            description: "A high-fidelity 3D ghost kitchen template for online food businesses, featuring a large make table, detailed appliances (fridge, oversized stove with burners and knobs), side counter with blender and air fryer, and a computer desk for order processing. Enhanced with 2K textures, realistic lighting, and four interactive camera views (Home, About, Shop, Checkout).",
            features: [
                "Large wooden make table with detailed oak wood grain texture",
                "Oversized stove (3x1.8x1.6m) with stainless steel front, burners, and knobs",
                "Double-door fridge with reflective stainless steel and detailed handles",
                "Side countertop with detailed blender and air fryer models",
                "Desk with computer (monitor with screen texture, keyboard) for online orders",
                "High-resolution textures (2K) with normal and roughness maps",
                "Enhanced lighting with directional and point lights for realism",
                "Interactive UI with four camera angles showcasing all kitchen aspects"
            ],
            about: {
                title: "About KitchenVibe Ghost Kitchen",
                content: "We are a premier ghost kitchen specializing in delicious, made-to-order meals delivered straight to your door. Our state-of-the-art kitchen ensures efficiency and quality, using the freshest ingredients to create culinary delights. Contact us at info@kitchenvibe.com."
            }
        };

        // Scene setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        renderer.shadowMap.enabled = true;
        renderer.shadowMap.type = THREE.PCFSoftShadowMap;
        document.body.appendChild(renderer.domElement);

        // OrbitControls
        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        controls.screenSpacePanning = false;
        controls.minDistance = 2;
        controls.maxDistance = 15; // Increased for larger stove
        controls.maxPolarAngle = Math.PI / 2;
        controls.target.set(0, 1, 0);

        // Enhanced Lighting
        const ambientLight = new THREE.AmbientLight(0xffffff, 1.0); // Brighter ambient
        scene.add(ambientLight);
        const spotlight1 = new THREE.SpotLight(0xffffff, 3.0); // Increased intensity
        spotlight1.position.set(0, 6, 4);
        spotlight1.angle = Math.PI / 6;
        spotlight1.penumbra = 0.6;
        spotlight1.castShadow = true;
        spotlight1.target.position.set(0, 0, 4);
        scene.add(spotlight1);
        scene.add(spotlight1.target);
        const spotlight2 = new THREE.SpotLight(0xffffff, 2.0);
        spotlight2.position.set(0, 6, -4);
        spotlight2.angle = Math.PI / 6;
        spotlight2.penumbra = 0.6;
        spotlight2.castShadow = true;
        spotlight2.target.position.set(0, 0, -4);
        scene.add(spotlight2);
        scene.add(spotlight2.target);
        // Additional Point Light for Make Table
        const pointLight = new THREE.PointLight(0xffffff, 1.5, 10);
        pointLight.position.set(0, 3, 0);
        pointLight.castShadow = true;
        scene.add(pointLight);

        // Texture Loader
        const textureLoader = new THREE.TextureLoader();

        // Floor (ceramic tiles)
        const floorMaterial = new THREE.MeshStandardMaterial({
            color: 0xaaaaaa,
            roughness: 0.2, // Smoother for gloss
            metalness: 0.05
            // Suggested texture: https://polyhaven.com/a/white_ceramic_tiles_2k
            // Example: map: textureLoader.load('https://polyhaven.com/a/white_ceramic_tiles/textures/white_ceramic_tiles_2k.jpg'),
            // normalMap: textureLoader.load('https://polyhaven.com/a/white_ceramic_tiles/textures/white_ceramic_tiles_normal_2k.jpg'),
            // roughnessMap: textureLoader.load('https://polyhaven.com/a/white_ceramic_tiles/textures/white_ceramic_tiles_rough_2k.jpg')
        });
        const floorGeometry = new THREE.PlaneGeometry(10, 10);
        const floor = new THREE.Mesh(floorGeometry, floorMaterial);
        floor.rotation.x = -Math.PI / 2;
        floor.receiveShadow = true;
        scene.add(floor);

        // Walls (subway tiles)
        const wallMaterial = new THREE.MeshStandardMaterial({
            color: 0xffffff,
            roughness: 0.15, // Smoother for tiles
            metalness: 0.05
            // Suggested texture: https://polyhaven.com/a/subway_tiles_2k
        });
        const wall1 = new THREE.Mesh(new THREE.PlaneGeometry(10, 5), wallMaterial);
        wall1.position.set(0, 2.5, -5);
        wall1.receiveShadow = true;
        scene.add(wall1);
        const wall2 = new THREE.Mesh(new THREE.PlaneGeometry(10, 5), wallMaterial);
        wall2.position.set(-5, 2.5, 0);
        wall2.rotation.y = Math.PI / 2;
        wall2.receiveShadow = true;
        scene.add(wall2);
        const wall3 = new THREE.Mesh(new THREE.PlaneGeometry(10, 5), wallMaterial);
        wall3.position.set(0, 2.5, 5);
        wall3.receiveShadow = true;
        scene.add(wall3);

        // Kitchen Logo
        const logoCanvas = document.createElement('canvas');
        logoCanvas.width = 1024;
        logoCanvas.height = 256;
        const logoContext = logoCanvas.getContext('2d');
        logoContext.fillStyle = '#ffffff';
        logoContext.fillRect(0, 0, logoCanvas.width, logoCanvas.height);
        logoContext.font = '150px Arial';
        logoContext.fillStyle = '#333333';
        logoContext.textAlign = 'center';
        logoContext.textBaseline = 'middle';
        logoContext.fillText('KitchenVibe', logoCanvas.width / 2, logoCanvas.height / 2 - 50);
        logoContext.font = '80px Arial';
        logoContext.fillText('Ghost Kitchen', logoCanvas.width / 2, logoCanvas.height / 2 + 50);
        const logoTexture = new THREE.CanvasTexture(logoCanvas);
        const logoGeometry = new THREE.PlaneGeometry(3, 0.75);
        const logoMaterial = new THREE.MeshBasicMaterial({
            map: logoTexture,
            transparent: true
        });
        const logo = new THREE.Mesh(logoGeometry, logoMaterial);
        logo.position.set(0, 3, -4.9);
        scene.add(logo);

        // Make Table (center) with Beveled Edges
        const tableGeometry = new THREE.BoxGeometry(4, 0.1, 2, 16, 16, 16); // Higher segments for detail
        const tableMaterial = new THREE.MeshStandardMaterial({
            color: 0x8b5e3c,
            roughness: 0.3,
            metalness: 0.05
            // Suggested texture: https://polyhaven.com/a/oak_wood_2k
        });
        const table = new THREE.Mesh(tableGeometry, tableMaterial);
        table.position.set(0, 0.9, 0);
        table.castShadow = true;
        table.receiveShadow = true;
        scene.add(table);
        const legGeometry = new THREE.CylinderGeometry(0.05, 0.05, 0.8, 16); // Cylindrical legs
        const legs = [
            { pos: [1.8, 0.4, 0.9] },
            { pos: [1.8, 0.4, -0.9] },
            { pos: [-1.8, 0.4, 0.9] },
            { pos: [-1.8, 0.4, -0.9] }
        ];
        legs.forEach(l => {
            const leg = new THREE.Mesh(legGeometry, tableMaterial);
            leg.position.set(...l.pos);
            leg.castShadow = true;
            scene.add(leg);
        });

        // Fridge with Double Doors and Handles
        const fridgeMaterial = new THREE.MeshStandardMaterial({
            color: 0xcccccc,
            roughness: 0.2, // Smoother for reflectivity
            metalness: 0.9
            // Suggested texture: https://polyhaven.com/a/metal_brushed_2k
        });
        const fridgeBody = new THREE.Mesh(new THREE.BoxGeometry(1, 2, 0.8, 16, 16, 16), fridgeMaterial);
        fridgeBody.position.set(-3.5, 1, -4);
        fridgeBody.castShadow = true;
        scene.add(fridgeBody);
        // Double Doors
        const fridgeDoorGeometry = new THREE.BoxGeometry(0.475, 1.8, 0.05, 8, 8, 8);
        const fridgeDoorLeft = new THREE.Mesh(fridgeDoorGeometry, fridgeMaterial);
        fridgeDoorLeft.position.set(-3.7375, 1, -3.575);
        scene.add(fridgeDoorLeft);
        const fridgeDoorRight = new THREE.Mesh(fridgeDoorGeometry, fridgeMaterial);
        fridgeDoorRight.position.set(-3.2625, 1, -3.575);
        scene.add(fridgeDoorRight);
        // Handles
        const handleGeometry = new THREE.CylinderGeometry(0.02, 0.02, 1, 16);
        const handleMaterial = new THREE.MeshStandardMaterial({
            color: 0xcccccc,
            roughness: 0.15,
            metalness: 0.95
        });
        const fridgeHandleLeft = new THREE.Mesh(handleGeometry, handleMaterial);
        fridgeHandleLeft.position.set(-3.65, 1, -3.55);
        scene.add(fridgeHandleLeft);
        const fridgeHandleRight = new THREE.Mesh(handleGeometry, handleMaterial);
        fridgeHandleRight.position.set(-3.35, 1, -3.55);
        scene.add(fridgeHandleRight);

        // Stove (Doubled Size) with Burners, Knobs, and Stainless Steel Front
        const stoveGeometry = new THREE.BoxGeometry(3, 1.8, 1.6, 16, 16, 16);
        const stoveMaterial = new THREE.MeshStandardMaterial({
            color: 0x333333,
            roughness: 0.3,
            metalness: 0.7
        });
        const stove = new THREE.Mesh(stoveGeometry, stoveMaterial);
        stove.position.set(3, 0.9, -4);
        stove.castShadow = true;
        scene.add(stove);
        // Stainless Steel Front
        const stoveFrontGeometry = new THREE.BoxGeometry(2.95, 1, 0.05, 8, 8, 8);
        const stoveFront = new THREE.Mesh(stoveFrontGeometry, fridgeMaterial); // Reuse fridge material
        stoveFront.position.set(3, 0.5, -3.175);
        scene.add(stoveFront);
        // Stove Door
        const stoveDoorGeometry = new THREE.BoxGeometry(2.8, 0.8, 0.05, 8, 8, 8);
        const stoveDoor = new THREE.Mesh(stoveDoorGeometry, stoveMaterial);
        stoveDoor.position.set(3, 0.4, -3.15);
        scene.add(stoveDoor);
        // Stove Handle
        const stoveHandle = new THREE.Mesh(new THREE.CylinderGeometry(0.02, 0.02, 2, 16), handleMaterial);
        stoveHandle.position.set(3, 0.4, -3.125);
        stoveHandle.rotation.z = Math.PI / 2;
        scene.add(stoveHandle);
        // Stove Top
        const stoveTopGeometry = new THREE.BoxGeometry(3, 0.05, 1.6, 16, 16, 16);
        const stoveTopMaterial = new THREE.MeshStandardMaterial({
            color: 0x1a1a1a,
            roughness: 0.2,
            metalness: 0.9
        });
        const stoveTop = new THREE.Mesh(stoveTopGeometry, stoveTopMaterial);
        stoveTop.position.set(3, 1.925, -4);
        scene.add(stoveTop);
        // Burners
        const burnerGeometry = new THREE.CylinderGeometry(0.2, 0.2, 0.02, 32);
        const burnerMaterial = new THREE.MeshStandardMaterial({
            color: 0x222222,
            roughness: 0.3,
            metalness: 0.8
        });
        const burners = [
            { pos: [2.3, 1.95, -4.6] },
            { pos: [3.7, 1.95, -4.6] },
            { pos: [2.3, 1.95, -3.4] },
            { pos: [3.7, 1.95, -3.4] }
        ];
        burners.forEach(b => {
            const burner = new THREE.Mesh(burnerGeometry, burnerMaterial);
            burner.position.set(...b.pos);
            burner.rotation.x = Math.PI / 2;
            burner.castShadow = true;
            scene.add(burner);
        });
        // Knobs
        const knobGeometry = new THREE.CylinderGeometry(0.05, 0.05, 0.03, 16);
        const knobMaterial = new THREE.MeshStandardMaterial({
            color: 0xcccccc,
            roughness: 0.2,
            metalness: 0.9
        });
        const knobs = [
            { pos: [2.4, 1.925, -3.15] },
            { pos: [2.7, 1.925, -3.15] },
            { pos: [3.0, 1.925, -3.15] },
            { pos: [3.3, 1.925, -3.15] }
        ];
        knobs.forEach(k => {
            const knob = new THREE.Mesh(knobGeometry, knobMaterial);
            knob.position.set(...k.pos);
            knob.rotation.x = Math.PI / 2;
            knob.castShadow = true;
            scene.add(knob);
        });

        // Main Counter
        const counterGeometry = new THREE.BoxGeometry(4, 0.1, 1, 16, 16, 16);
        const counterMaterial = new THREE.MeshStandardMaterial({
            color: 0xe0e0e0,
            roughness: 0.15,
            metalness: 0.05
            // Suggested texture: https://polyhaven.com/a/quartzite_2k
        });
        const counter = new THREE.Mesh(counterGeometry, counterMaterial);
        counter.position.set(0, 0.9, 4);
        counter.receiveShadow = true;
        scene.add(counter);
        // Counter Edge Detail
        const edgeGeometry = new THREE.BoxGeometry(4, 0.05, 0.05);
        const counterEdge = new THREE.Mesh(edgeGeometry, counterMaterial);
        counterEdge.position.set(0, 0.925, 4.475);
        scene.add(counterEdge);
        // Counter Base (Cabinet)
        const cabinetGeometry = new THREE.BoxGeometry(4, 0.9, 1, 16, 16, 16);
        const cabinetMaterial = new THREE.MeshStandardMaterial({
            color: 0x4a3728,
            roughness: 0.3,
            metalness: 0.05
            // Suggested texture: https://cc0textures.com/view?id=Wood009_2k
        });
        const cabinet = new THREE.Mesh(cabinetGeometry, cabinetMaterial);
        cabinet.position.set(0, 0.45, 4);
        cabinet.castShadow = true;
        scene.add(cabinet);
        // Sink
        const sinkGeometry = new THREE.BoxGeometry(0.8, 0.05, 0.5, 8, 8, 8);
        const sinkMaterial = new THREE.MeshStandardMaterial({
            color: 0xcccccc,
            roughness: 0.2,
            metalness: 0.9
        });
        const sink = new THREE.Mesh(sinkGeometry, sinkMaterial);
        sink.position.set(1.5, 0.925, 4);
        scene.add(sink);

        // Side Countertop with Blender and Air Fryer
        const sideCounterGeometry = new THREE.BoxGeometry(2, 0.1, 1, 16, 16, 16);
        const sideCounter = new THREE.Mesh(sideCounterGeometry, counterMaterial);
        sideCounter.position.set(-3, 0.9, 0);
        sideCounter.receiveShadow = true;
        scene.add(sideCounter);
        const sideCabinet = new THREE.Mesh(new THREE.BoxGeometry(2, 0.9, 1, 16, 16, 16), cabinetMaterial);
        sideCabinet.position.set(-3, 0.45, 0);
        sideCabinet.castShadow = true;
        scene.add(sideCabinet);
        // Blender (Detailed)
        const blenderBaseGeometry = new THREE.BoxGeometry(0.2, 0.3, 0.2, 8, 8, 8);
        const blender = new THREE.Mesh(blenderBaseGeometry, sinkMaterial);
        blender.position.set(-3.3, 1.05, 0);
        blender.castShadow = true;
        scene.add(blender);
        const blenderTopGeometry = new THREE.CylinderGeometry(0.1, 0.1, 0.2, 16);
        const blenderTop = new THREE.Mesh(blenderTopGeometry, sinkMaterial);
        blenderTop.position.set(-3.3, 1.25, 0);
        scene.add(blenderTop);
        // Air Fryer (Detailed)
        const airFryerGeometry = new THREE.BoxGeometry(0.3, 0.3, 0.3, 8, 8, 8);
        const airFryer = new THREE.Mesh(airFryerGeometry, sinkMaterial);
        airFryer.position.set(-2.7, 1.05, 0);
        airFryer.castShadow = true;
        scene.add(airFryer);
        const airFryerWindow = new THREE.Mesh(new THREE.BoxGeometry(0.2, 0.1, 0.01), stoveTopMaterial);
        airFryerWindow.position.set(-2.7, 1.05, 0.145);
        scene.add(airFryerWindow);

        // Desk with Computer
        const deskGeometry = new THREE.BoxGeometry(1.5, 0.1, 0.8, 16, 16, 16);
        const deskMaterial = new THREE.MeshStandardMaterial({
            color: 0x4a3728,
            roughness: 0.3,
            metalness: 0.05
        });
        const desk = new THREE.Mesh(deskGeometry, deskMaterial);
        desk.position.set(4, 0.8, 2);
        desk.castShadow = true;
        scene.add(desk);
        const deskLegGeometry = new THREE.CylinderGeometry(0.05, 0.05, 0.7, 16);
        const deskLegs = [
            { pos: [4.6, 0.35, 2.3] },
            { pos: [4.6, 0.35, 1.7] },
            { pos: [3.4, 0.35, 2.3] },
            { pos: [3.4, 0.35, 1.7] }
        ];
        deskLegs.forEach(l => {
            const leg = new THREE.Mesh(deskLegGeometry, deskMaterial);
            leg.position.set(...l.pos);
            leg.castShadow = true;
            scene.add(leg);
        });
        // Computer Monitor
        const monitorGeometry = new THREE.BoxGeometry(0.5, 0.3, 0.05, 8, 8, 8);
        const monitorMaterial = new THREE.MeshStandardMaterial({
            color: 0x333333,
            roughness: 0.3,
            metalness: 0.7
        });
        const monitor = new THREE.Mesh(monitorGeometry, monitorMaterial);
        monitor.position.set(4, 1.05, 2);
        monitor.rotation.y = -Math.PI / 4;
        scene.add(monitor);
        // Monitor Screen
        const screenGeometry = new THREE.PlaneGeometry(0.4, 0.25);
        const screenMaterial = new THREE.MeshBasicMaterial({
            color: 0x000000,
            opacity: 0.8,
            transparent: true
        });
        const screen = new THREE.Mesh(screenGeometry, screenMaterial);
        screen.position.set(4, 1.05, 2.026);
        screen.rotation.y = -Math.PI / 4;
        scene.add(screen);
        // Keyboard
        const keyboardGeometry = new THREE.BoxGeometry(0.4, 0.05, 0.15, 8, 8, 8);
        const keyboard = new THREE.Mesh(keyboardGeometry, monitorMaterial);
        keyboard.position.set(4, 0.85, 2.2);
        keyboard.rotation.y = -Math.PI / 4;
        scene.add(keyboard);

        // Camera Presets (Optimized for All Aspects)
        const cameraPositions = {
            home: { pos: [5, 2.5, -4], target: [0, 1, 0], overlay: null }, // Wide view of entire kitchen
            about: { pos: [2, 2.5, -3], target: [0, 2.5, -4.9], overlay: 'about-info' }, // Logo and workspace
            shop: { pos: [-2, 1.8, -2], target: [3, 1.8, -4], overlay: null }, // Focus on stove and make table
            checkout: { pos: [5, 1.5, 1], target: [4, 0.8, 2], overlay: 'shipping-form' } // Desk and computer
        };

        // View Switch Function
        function switchView(view) {
            const { pos, target, overlay } = cameraPositions[view];
            camera.position.set(...pos);
            controls.target.set(...target);
            controls.update();
            document.getElementById('shipping-form').style.display = overlay === 'shipping-form' ? 'block' : 'none';
            document.getElementById('about-info').style.display = overlay === 'about-info' ? 'block' : 'none';
        }

        // Initial View
        switchView('home');

        // Animation loop
        let time = 0;
        function animate() {
            requestAnimationFrame(animate);
            time += 0.01;
            controls.update();
            renderer.render(scene, camera);
        }
        animate();

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
